const rootPath=document.body.getAttribute("data-rootPath")||"/",vm=new Vue({el:"#app",data:{action:`${rootPath}minify`,input:"",output:null},computed:{isFormEnabled:function(){var t=this.input.length>0;return t&&pubsub.pub("bi:action","fill-form"),t}},methods:{onClear:function(){pubsub.pub("bi:action","clear"),this.input="",this.output=null},onRaw:function(){pubsub.pub("bi:action","raw"),this.action=`${rootPath}raw`,setTimeout(()=>{document.getElementById("input-form").submit()},300)},onDownload:function(){pubsub.pub("bi:cta","download"),this.action=`${rootPath}download`,setTimeout(()=>{document.getElementById("input-form").submit()},50)},onSubmit:function(t){pubsub.pub("bi:form","minify");const n=new URLSearchParams;n.append("input",this.input),axios.post(`${rootPath}raw`,n,{input:this.input}).then(function(t){vm.output=t.data}).catch(function(t){})},onCopyToClipboard:function(){const t=document.getElementById("output");t.select(),t.setSelectionRange(0,this.output.length),document.execCommand("copy"),t.setSelectionRange(0,0),pubsub.pub("bi:action","copy")},onSelectAll:function(){const t=document.getElementById("output");t.select(),t.setSelectionRange(0,this.output.length),pubsub.pub("bi:action","select")}}});var pubsub=function(){var t={};return{pub:function(n,o){t[n]&&t[n].map(t=>t(o))},sub:function(n,o){return void 0===t[n]&&(t[n]=[]),t[n].push(o),function(){t[n].splice(t[n].indexOf(o),1)}}}}();!function(){function t(t){var n=[];return o=>{n.indexOf(o)>=0||(n.push(o),t(o))}}pubsub.sub("bi:action",t(function(t){gtag("event","control - "+t,{event_category:"interaction",event_label:t})})),pubsub.sub("bi:cta",t(function(t){var n={download:"file_download"};n=n[t]||"cta",gtag("event","cta - "+t,{event_category:n,event_label:t})})),pubsub.sub("bi:form",t(function(t){gtag("event",t,{event_category:"form_submission",event_label:document.location.href})}))}();
